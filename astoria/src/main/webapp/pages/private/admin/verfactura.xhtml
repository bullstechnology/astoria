<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
        
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<title>SISCOMFLOR</title>
        
     <h:head>

       <!--  <h:outputStylesheet library="css" name="styles.css" /> -->
        <h:outputStylesheet name="webjars/primeflex/2.0.0/primeflex.css" />

    </h:head>
    
    <style type="text/css">
    .box,
    .sample-layout > div {
        background-color: #cce4f7;
        text-align: center;
        padding-top: 1em;
        padding-bottom: 1em;
        border-radius: 4px;
        
    }
 
    .box-stretched {
        height: 100%;
    }
 
    .sample-layout {
        margin: 0;
    }
 
    .sample-layout > div {
        border: 1px solid #ffffff;
    }
 
    .vertical-container {
        margin: 0;
        height: 200px;
        background: #efefef;
        border-radius: 4px;
    }
 
    .nested-grid .p-col-4 {
        padding-bottom: 1em;
    }
    
   .p-grid {
  width: 100%;
  height:100%;
  border: 1px solid black;
  display: flex;
  flex-wrap: wrap;
  box-sizing: border-box;
  padding: 10px;
}
.container {
  background: red;
  height: 100%;
}
#top{
      height:10%;
      width: 100%;
      background-color: gray;
    }
#left{
      height:85%;
      width: 100%;

    }
#centro{
      height:85%;
      width: 100%;
      overflow-y: scroll;
    }
#bottom{

      width: 100%;
      background-color:#FFFFFF;
      bottom: 0;
      position:fixed;
    }
    html, body{
      height:100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
</style>
    
    

    <h:body style="background-color:#FFFFFF;">

        <div id="header">

            <ui:include src="../main/templates/header.xhtml" />

        </div>
        
        <div id='centro'>
            <div id="left" style='float: left; width: 15%'>
                <ui:include src="../main/templates/menu.xhtml" />
            </div>
            <div id="content" class="left_content" style='float: right; width: 85%'>
                        <!-- inicio del form interno -->
						 <h:form id="formcrear" onsubmit="return true;">
        <p:growl id="growl" sticky="true" showDetail="true"/>
       <p:wizard flowListener="#{entregaPedidoMB.onFlowProcess}">
       <p:tab id="generales" title="#{msg['titulo.datoscliente']}">
       				<p:panel header="Datos generales">
       <h:panelGrid columns="4" >
       <h:outputLabel value="#{msg['label.paisorigen']} : "/>
       <p:selectOneMenu id="paises" value="#{entregaPedidoMB.idPais}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.listaPaisesDom}" />
            						<p:ajax listener="#{entregaPedidoMB.getCiudadesPais}" update="ciudades"/>
       </p:selectOneMenu>
       
       <h:outputLabel value="#{msg['label.ciudadorigen']} : "/>
       <p:selectOneMenu id="ciudades" value="#{entregaPedidoMB.idCiudad}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.listaCiudadesDom}" />
       </p:selectOneMenu>
       
        <h:outputLabel value="#{msg['label.paisdestino']} : "/>
       <p:selectOneMenu id="paisesdestino" value="#{entregaPedidoMB.idPaisDestino}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.listaPaisesDom}" />
            						<p:ajax listener="#{entregaPedidoMB.getCiudadesPaisDestino}" update="ciudadesdestino"/>
       </p:selectOneMenu>
       
       <h:outputLabel value="#{msg['label.ciudaddestino']} : "/>
       <p:selectOneMenu id="ciudadesdestino" value="#{entregaPedidoMB.idCiudadDestino}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.listaCiudadesDestinoDom}" />
       </p:selectOneMenu>
       
       <h:outputLabel value="#{msg['label.cliente']} : "/> 
       <p:selectOneMenu id="cliente" value="#{entregaPedidoMB.idCliente}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.clientesSelect}" />
       </p:selectOneMenu>
       <h:outputLabel value="#{msg['label.fechadespacho']} : "/>
       <p:calendar id="fechadespacho" value="#{entregaPedidoMB.fechadespacho}" pattern="yyyy-MM-dd" mask="true" disabled="true"/>
        <h:outputLabel value="#{msg['label.fechallegada']} : "/>
       <p:calendar id="fechallegada" value="#{entregaPedidoMB.fechallegada}" pattern="yyyy-MM-dd" mask="true" disabled="true"/>
       <h:outputLabel value="#{msg['label.fechallegadafinal']} : "/>
       <p:calendar id="fechallegadafinal" value="#{entregaPedidoMB.fechallegadafinal}" pattern="yyyy-MM-dd" mask="true" disabled="true"/>
       <h:outputLabel value="#{msg['label.observaciones']} : "/>
       <p:inputTextarea rows="10" cols="50" id="observaciones" value="#{entregaPedidoMB.observaciones}" readonly="true"/>
       <h:outputLabel value="#{msg['label.programado']} : "/>
       <p:selectBooleanCheckbox id="idProgramado" value="#{entregaPedidoMB.programado}" disabled="true">
       	    <p:ajax update ="dias" listener="#{entregaPedidoMB.programar}" />
       </p:selectBooleanCheckbox>
       
    </h:panelGrid>
    <p:outputPanel autoUpdate="true">
    <p:outputPanel id="dias" rendered="#{entregaPedidoMB.programado}">
    <p:panelGrid columns="4">
    <p:column><h:outputLabel value="#{msg['label.diasdespacho']} : "/></p:column>
        			<p:column colspan="3">
        			  <p:panelGrid colums="14">
        			     <p:row>
        			           <p:column><h:outputLabel value="#{msg['label.lunes']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="lunes" value="#{entregaPedidoMB.lunes}" /></p:column>
        			           <p:column><h:outputLabel value="#{msg['label.martes']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="martes" value="#{entregaPedidoMB.martes}" /></p:column>
        			           <p:column><h:outputLabel value="#{msg['label.miercoles']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="miercoles" value="#{entregaPedidoMB.miercoles}" /></p:column>
        			           <p:column><h:outputLabel value="#{msg['label.jueves']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="jueves" value="#{entregaPedidoMB.jueves}" /></p:column>
        			           <p:column><h:outputLabel value="#{msg['label.viernes']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="viernes" value="#{entregaPedidoMB.viernes}" /></p:column>
        			           <p:column><h:outputLabel value="#{msg['label.sabado']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="sabado" value="#{entregaPedidoMB.sabado}" /></p:column>
        			           <p:column><h:outputLabel value="#{msg['label.domingo']} : "/></p:column>
        			           <p:column><p:selectBooleanCheckbox id="domingo" value="#{entregaPedidoMB.domingo}" /></p:column>
        			     </p:row>
        			  </p:panelGrid>
        			</p:column>
       
       </p:panelGrid>
       </p:outputPanel>
       </p:outputPanel>
		</p:panel>
       				
		</p:tab>
		
				
		       <p:tab id="original" title="#{msg['label.pedidoconciliado']} #{entregaPedidoMB.idPedido}">
    		<p:panel header="#{msg['label.detallespedidoconciliado']} #{entregaPedidoMB.idPedido}" id="datosgeneralesoriginal">
    		
     <h:panelGrid columns="4" >
       <h:outputLabel value="#{msg['label.cliente']} : "/> 
       <p:selectOneMenu id="cliente3" value="#{entregaPedidoMB.idCliente}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.clientesSelect}" />
       </p:selectOneMenu>
       <h:outputLabel value="#{msg['label.fechadespacho']} : "/>
       <p:calendar id="fechadespacho3" value="#{entregaPedidoMB.fechadespacho}" pattern="yyyy-MM-dd" mask="true" disabled="true"/>
       
    </h:panelGrid>		
    <h:panelGrid >
    <p:dataTable var="item" value="#{entregaPedidoMB.detallesPedidoConciliado}" id="listatoriginal" widgetVar="listatoriginal" rowStyleClass="#{item.num !=  null ? 'highlight1' : 'highlight2'}">

			<f:facet name="header">
           			#{msg['label.detalledefinitivo']}
       		</f:facet>
       		<p:column headerText="#{msg['label.plantacion']}">
        		<h:outputText value="#{item.nombreplantacion}" />
     		</p:column>
     		<p:column headerText="#{msg['label.composicion']}">
        		<h:outputText value="#{item.nombrecomposicion}" />
     		</p:column>
     		<p:column headerText="#{msg['label.tipo']}">
        		<h:outputText value="#{item.nombretipo}" />
     		</p:column>
    		<p:column headerText="#{msg['label.producto']}">
        		<h:outputText value="#{item.nombrevariedad}" />
     		</p:column>
     		
     		<p:column headerText="#{msg['label.grado']}">
        		<h:outputText value="#{item.nombregrado}" />
     		</p:column>
     		<p:column headerText="#{msg['label.cantidadfull']}">
        		<h:outputText value="#{item.cantidadfull}" />
     		</p:column>
     		<p:column headerText="#{msg['label.packing']}">
				<h:outputText value="#{item.packing}" />
     		</p:column>
     		<p:column headerText="#{msg['label.unidades']}">
				<h:outputText value="#{item.tallosporfull}" />
     		</p:column>
     		
     		
 
    		<p:column headerText="#{msg['label.precioplantacion']}">
						<h:outputText value="#{item.precio}" />
    		</p:column>
    		<p:column headerText="#{msg['label.comisioncorto']}">
						<h:outputText value="#{item.comision}" />
    		</p:column>
    		<p:column headerText="#{msg['label.preciototal']}">
        		<h:outputText value="#{uMB.format(item.preciototal)}" />
     		</p:column>
     		<p:column headerText="#{msg['label.observaciones']}">
        		<p:inputTextarea rows="3" cols="15" id="observaciones" value="#{item.observaciones}" readonly="true"/>
     		</p:column>
     		<p:columnGroup type="footer">
  <p:row>
    <p:column colspan="7" footerText="#{msg['label.totalmayusculas']}:" style="text-align:left"/>
    
    <p:column footerText="#{entregaPedidoMB.totalUnidadesConciliado}" />
            <p:column>
            </p:column>
            <p:column>
            </p:column>
            <p:column footerText="#{uMB.format(entregaPedidoMB.totalPrecioConciliado)}" />
            <p:column>
             </p:column>
             
  </p:row>
</p:columnGroup>      
	</p:dataTable>
    </h:panelGrid>
   </p:panel>
 </p:tab>

       <p:tab id="detalles" title="#{msg['label.pedido']}">
    		<p:panel header="#{msg['label.detallespedidofacturado']}" id="datosgenerales">
    		
    		<p:panelGrid>
    		<f:facet name="header">
        			#{msg['label.encabezadofactura']}
    		</f:facet>
    		<p:row>
    				<p:column>
    				</p:column>  
    				<p:column>		    
    				</p:column>  
    				<p:column>		    
    				</p:column> 
    				<p:column>		    
    				</p:column> 
    				<p:column colspan="2">	
    					      <h:outputLabel value="PREINVOICE:"/>
    				</p:column> 
    				<p:column>
    				          <h:outputLabel value="#{entregaPedidoMB.numinvoice}"/>
    				</p:column> 		    
	    
    				
    		</p:row>
    		<p:row>
    		
    				<p:column>
    				       <h:outputLabel value="CLIENT:"/>
    				</p:column> 
    				<p:column colspan="3">	
    				       <p:inputText id="client" value="#{entregaPedidoMB.client}" size="45" maxlength="45" readonly="true"/> 	
    				</p:column>  
    				<p:column>		    
    				</p:column>  
    				<p:column>		    
    				</p:column> 
    				<p:column> 
    				</p:column> 
		    
    				    
    		</p:row>
    		<p:row>
    				<p:column>
    				       <h:outputLabel value="CUSTOMER:"/>
    				</p:column>  
    				<p:column colspan="3">	
    				       <p:selectOneMenu id="cliente2" value="#{entregaPedidoMB.idCliente2}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.clientesSelect}" />
       						</p:selectOneMenu>	
    				</p:column>  
    				<p:column>		    
    				</p:column>  
    				<p:column>
    				       <h:outputLabel value="DATE:"/>
    				</p:column> 
    			    <p:column>	
    				       <p:calendar id="fechafactura" value="#{entregaPedidoMB.fechafactura}" pattern="yyyy-MM-dd" mask="true" disabled="true"/>
    				</p:column> 		    
    				
    		</p:row>
    		<p:row>
    				<p:column>
    				          <h:outputLabel value="BOXES ID:"/>
    				</p:column>  
    				<p:column colspan="3">
    				          <h:outputLabel value="#{entregaPedidoMB.boxesid}"/>		    
    				</p:column>  
    				<p:column>		    
    				</p:column>  
    				<p:column>		    
    				</p:column> 
    				<p:column> 		    
    				</p:column>  
    		</p:row>		
    		<p:row>
    		  		<p:column>
    				</p:column>  
    				<p:column>		    
    				</p:column>  
    				<p:column>		    
    				</p:column>  
    				<p:column>		    
    				</p:column> 
    				<p:column> 		    
    				</p:column>  
    				<p:column>		    
    				</p:column>  	
    				<p:column>	    
    				</p:column>  
    		</p:row>
    				
    		
    		</p:panelGrid>
      
         
   
   
    <h:panelGrid >
    <p:dataTable var="item" value="#{entregaPedidoMB.detallesPedido}" id="listat"  widgetVar="wlistat" rowStyleClass="#{item.num !=  null ? 'highlight1' : 'highlight2'}">

			<f:facet name="header">
			<p:column colspan="10">#{msg['label.detalledefinitivo']}</p:column>
           			
       		</f:facet>

       		<p:column headerText="#{msg['label.plantacion']}">
			<h:outputText value="#{item.nombreplantacion}" />
                   <h:selectOneMenu value="#{item.nombreplantacion}" style="width:100%" rendered="#{item.tipocomposicion == null}" disabled="true">
                       <f:selectItems value="#{entregaPedidoMB.listaPlantacionesSelect}" var="plan" itemlabel="#{plan.label}" itemValue="#{plan.label}"/>
                   </h:selectOneMenu>

     		</p:column>
     		<p:column headerText="#{msg['label.bodega']}">
					<h:outputText value="#{item.bodega}" readonly="true"/>
     		</p:column>
     		<p:column headerText="#{msg['label.composicion']}">
        		<h:outputText value="#{item.nombrecomposicion}" />
     		</p:column>
     		<p:column headerText="#{msg['label.tipo']}">
        		<h:outputText value="#{item.nombretipo}" />
     		</p:column>
    		<p:column headerText="#{msg['label.producto']}">
        		<h:outputText value="#{item.nombrevariedad}" />
     		</p:column>
     		
     		<p:column headerText="#{msg['label.grado']}">
        		<h:outputText value="#{item.nombregrado}" />
     		</p:column>
     		<p:column headerText="#{msg['label.cantidadfull']}">
					<h:outputText value="#{item.cantidadfull}" />
                  
     		</p:column>
     		<p:column headerText="#{msg['label.packing']}">
				<h:outputText value="#{item.packing}" />
                  
     		</p:column>
     		<p:column headerText="#{msg['label.piezas']}">
				<h:outputText value="#{item.piezas}" />
                   
     		</p:column>
     		
     		<p:column headerText="#{msg['label.unidades']}">
				
				<h:outputText value="#{item.tallosporfull}" />

     		</p:column>
     		
     		
 
    		<p:column headerText="#{msg['label.precioplantacion']}">
						<h:outputText value="#{item.precio}" />
    		</p:column>
    		<p:column headerText="#{msg['label.comisioncorto']}">
						<h:outputText value="#{item.comision}" />
    		</p:column>
    		<p:column headerText="#{msg['label.preciototal']}">
        		<h:outputText value="#{uMB.format(item.preciototal)}" />
        		
     		</p:column>
     		<p:column headerText="#{msg['label.invoicecorto']}">
				<h:outputText value="#{item.invoice}" />
     		</p:column>
     		<p:column headerText="#{msg['label.awb']}">
				<h:outputText value="#{item.awb}" />
     		</p:column>
     		<p:column headerText="#{msg['label.observaciones']}">
						<h:outputText value="#{item.observaciones}" />
    		</p:column>
    		
	         		
     		<p:columnGroup type="footer">
  <p:row>
    <p:column colspan="6" footerText="TOTAL" style="text-align:left"/>
    <p:column footerText="#{entregaPedidoMB.totalBoxes}" />
    <p:column></p:column>
    <p:column footerText="#{entregaPedidoMB.totalPiezas}" />
    <p:column footerText="#{entregaPedidoMB.totalUnidades}" />
    <p:column></p:column>
    <p:column></p:column>
    <p:column footerText="#{uMB.format(entregaPedidoMB.preciototalflor)}" />
    <p:column></p:column>
    <p:column></p:column>
    <p:column></p:column>
    
            
  </p:row>
</p:columnGroup>

     
    	
            

</p:dataTable>

<p:panelGrid style="width:100%" id="idpiezas1">
    		<f:facet name="header">
        			<p:row>
    				<p:column colspan="4">
    				  <h:outputLabel value="Piezas"/>
    				</p:column>  
       		        </p:row>
    		</f:facet>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="Piezas de pedido : #{entregaPedidoMB.totalPiezas}" />
    				</p:column>
    				<p:column>
    				  <h:outputLabel value="Piezas Adicionales :"/>
    				</p:column>  
    				<p:column>	
    					<p:inputText id="piezasadd" value="#{entregaPedidoMB.totalPiezasAdicional}" size="5" maxlength="5" readonly="true">
    						
                   		</p:inputText>
    				</p:column>  
    				<p:column>
    				  <h:outputLabel value="Total Piezas : #{entregaPedidoMB.totalPiezas + entregaPedidoMB.totalPiezasAdicional}"/>
    				</p:column>
    		</p:row>

</p:panelGrid>

<p:panelGrid style="width:100%">
    		<f:facet name="header">
        			<p:row>
    				<p:column colspan="2">
    				  <h:outputLabel value="#{msg['label.infocarga']}"/>
    				</p:column>  
       		        </p:row>
    		</f:facet>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.awb']}"/>
    				</p:column>  
    				<p:column>	
    					<p:inputText id="awb" value="#{entregaPedidoMB.awb}" size="45" maxlength="45" readonly="true"/>
    				</p:column>  
    		</p:row>
    		
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.forwarder']}"/>
    				</p:column>  
    				<p:column>	
    					<p:selectOneMenu id="agencia" value="#{entregaPedidoMB.idAgencia}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.listaAgenciasSelect}"/>
            						<p:ajax listener="#{entregaPedidoMB.getAerolineas}" update="aerolinea"/>
       					</p:selectOneMenu>	    
    				</p:column>  
    		</p:row>
    		
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.airlaine']}"/>
    				</p:column>  
    				<p:column>	
    					<p:selectOneMenu id="aerolinea" value="#{entregaPedidoMB.idAerolinea}" disabled="true">
            						<f:selectItem itemLabel="#{msg['label.seleccioneopcion']}" itemValue="" />
            						<f:selectItems value="#{entregaPedidoMB.listaAerolineasSelect}"/>
            						<p:ajax listener="#{entregaPedidoMB.getPrecioCarga}" update="idcostos"/>
       					</p:selectOneMenu>	    
    				</p:column>  
    		</p:row>
    		
    		</p:panelGrid>
    		
    		
<p:panelGrid style="width:100%" id="idcostos">
             <f:facet name="header">
        			<p:row>
    				<p:column colspan="2">
    				  <h:outputLabel value="#{msg['label.infocostos']}"/>
    				</p:column>  
       		        </p:row>
    		</f:facet>
             <p:row>
    			<p:column style="text-align:left">TOTAL COST OF FLOWER:</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="totales1" value="#{uMB.format(entregaPedidoMB.preciototalflor)}"/></p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">TOTAL COST OF FLOWER (AST):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="totales1ast" value="#{uMB.format(entregaPedidoMB.preciototalflorast)}"/></p:column>
    		</p:row>
    		
    		
    		<!--  Costos adicionales y variaciones en tarifas -->
    		
    		<p:row>
    			<p:column style="text-align:left">Peso Astoria Kg :</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td>Peso Astoria</td>
                              <td><p:inputText id="pesoast" value="#{entregaPedidoMB.pesoast}" size="5" maxlength="5" readonly="true">
                                  </p:inputText>
                              </td> 
                              <td>Valor</td>
                              <td><p:inputText id="valorkgast" value="#{entregaPedidoMB.valorkgast}" size="6" maxlength="6" readonly="true">

                                  </p:inputText>
                              </td>
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">Peso Cliente Kg :</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td>Peso Cliente</td>
                              <td><p:inputText id="pesocli" value="#{entregaPedidoMB.pesoacli}" size="5" maxlength="5" readonly="true">

                                  </p:inputText>
                              </td>
                              <td>Valor</td>
                              <td><p:inputText id="valorkgcli" value="#{entregaPedidoMB.valorkgcli}" size="6" maxlength="6" readonly="true">

                                  </p:inputText>
                              </td>
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">Precooling Cliente:</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td colspan="2"><p:inputText id="preculingclie" value="#{entregaPedidoMB.preculinclie}" size="5" maxlength="5" readonly="true">
                                    
                                  </p:inputText>
                              </td>
                              
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">Precooling Astoria:</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td colspan="2"><p:inputText id="preculingast" value="#{entregaPedidoMB.preculinast}" size="5" maxlength="5" readonly="true">
                                    
                                  </p:inputText>
                              </td>
                             
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row rendered='#{entregaPedidoMB.concepto1trans != ""}'>
    			<p:column style="text-align:left">#{entregaPedidoMB.concepto1trans} :</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td>Valor Cliente</td>
                              <td><p:inputText id="concepto1" value="#{entregaPedidoMB.valorconcepto1trans}" size="5" maxlength="5" readonly="true">

                                  </p:inputText>
                              </td>
                              <td>Valor Astoria</td>
                              <td><p:inputText id="concepto11" value="#{entregaPedidoMB.valorconcepto1transast}" size="6" maxlength="6" readonly="true">
        
                                  </p:inputText>
                              </td>
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row rendered='#{entregaPedidoMB.concepto2trans != ""}'>
    			<p:column style="text-align:left">#{entregaPedidoMB.concepto2trans} :</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td>Valor Cliente</td>
                              <td><p:inputText id="concepto2" value="#{entregaPedidoMB.valorconcepto2trans}" size="5" maxlength="5" readonly="true">

                                  </p:inputText>
                              </td>
                              <td>Valor Astoria</td>
                              <td><p:inputText id="concepto22" value="#{entregaPedidoMB.valorconcepto2transast}" size="6" maxlength="6" readonly="true">
                                    </p:inputText>
                              </td>
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row rendered='#{entregaPedidoMB.concepto3trans != ""}'>
    			<p:column style="text-align:left">#{entregaPedidoMB.concepto3trans} :</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td>Valor Cliente</td>
                              <td><p:inputText id="concepto3" value="#{entregaPedidoMB.valorconcepto3trans}" size="5" maxlength="5" readonly="true">
                                  
                                  </p:inputText>
                              </td>
                              <td>Valor Astoria</td>
                              <td><p:inputText id="concepto33" value="#{entregaPedidoMB.valorconcepto3transast}" size="6" maxlength="6" readonly="true">
                               
                                  </p:inputText>
                              </td>
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row rendered='#{entregaPedidoMB.concepto4trans != ""}'>
    			<p:column style="text-align:left">#{entregaPedidoMB.concepto4trans} :</p:column>
    			<p:column style="text-align:right">
    			
    			    <table>
                           <tr>
                              <td>Valor Cliente</td>
                              <td><p:inputText id="concepto4" value="#{entregaPedidoMB.valorconcepto4trans}" size="5" maxlength="5" readonly="true">
                                    
                                  </p:inputText>
                              </td>
                              <td>Valor Astoria</td>
                              <td><p:inputText id="concepto44" value="#{entregaPedidoMB.valorconcepto4transast}" size="6" maxlength="6" readonly="true">
                                  
                                  </p:inputText>
                              </td>
                           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">
    			    <table>
                           <tr>
                              <td>
    			                  Concepto:
    			              </td>
                              <td>
    			                  <p:inputText id="concepadd" value="#{entregaPedidoMB.concepadd}" size="40" maxlength="40" readonly="true"/>
    			              </td>    
    			           </tr>  			    
    			    </table> 
    			</p:column>          
    			<p:column style="text-align:right">
    			    <table>
                           <tr>
    			               <td>
    			                  Valor Cliente:
    			              </td>
                              <td>
    			                  <p:inputText id="valorconcepadd" value="#{entregaPedidoMB.valorconcepadd}" size="6" maxlength="6" readonly="true">
    			                     
                                  </p:inputText>
    			              </td>
    			              <td>
    			                  Valor Astoria:
    			              </td>
                              <td>
    			                  <p:inputText id="valorconcepaddast" value="#{entregaPedidoMB.valorconcepaddast}" size="6" maxlength="6" readonly="true">
    			                    
                                  </p:inputText>
    			              </td>    
    			           </tr>  			    
    			    </table> 
    			
    			    
    			    
    			
    			</p:column>
    		</p:row>
    		
    		<p:row>
    			<p:column style="text-align:left">
    			     <table>
                           <tr>
                              <td>
    			                  Concepto:
    			              </td>
                              <td>
    			                  <p:inputText id="concepadd2" value="#{entregaPedidoMB.concepadd2}" size="40" maxlength="40" readonly="true"/>
    			              </td>    
    			           </tr>  			    
    			    </table>
    			</p:column>
    			<p:column style="text-align:right">
    			
    			     <table>
                           <tr>
    			              <td>
    			                  Valor Cliente:
    			              </td>
                              <td>
    			                 <p:inputText id="valorconcepadd2" value="#{entregaPedidoMB.valorconcepadd2}" size="6" maxlength="6" readonly="true">
    			                 	
                                  </p:inputText>
    			              </td> 
    			              <td>
    			                  Valor Astoria:
    			              </td>
                              <td>
    			                 <p:inputText id="valorconcepadd2ast" value="#{entregaPedidoMB.valorconcepadd2ast}" size="6" maxlength="6" readonly="true">
    			                    
                                  </p:inputText>
    			              </td>   
    			           </tr>  			    
    			    </table>
    			    
    			
    			</p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">
    			
    			 <table>
                           <tr>
                              <td>
    			                  Concepto:
    			              </td>
                              <td>
    			                  <p:inputText id="concepadd3" value="#{entregaPedidoMB.concepadd3}" size="40" maxlength="40" readonly="true"/>
    			              </td>    
    			           </tr>  			    
    			    </table>
    			</p:column>
    			<p:column style="text-align:right">
    			
    			    
    			    <table>
                           <tr>
    			              <td>
    			                  Valor Cliente:
    			              </td>
                              <td>
    			                 <p:inputText id="valorconcepadd3" value="#{entregaPedidoMB.valorconcepadd3}" size="6" maxlength="6" readonly="true">
    			                 
    			                 	
                                  </p:inputText>
    			              </td>  
    			              <td>
    			                  Valor Astoria:
    			              </td>
                              <td>
    			                 <p:inputText id="valorconcepadd3ast" value="#{entregaPedidoMB.valorconcepadd3ast}" size="6" maxlength="6" readonly="true">
    			                     
                                  </p:inputText>
    			                 
    			              </td>  
    			           </tr>  			    
    			    </table>
    			
    			</p:column>
    		</p:row>

    		
    		
    		
    		
    		<!--  fin costos adicionales y variaciones en tarifas -->
    		
    		<p:row>
    			<p:column style="text-align:left">COST OF TRANSPORT (C):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf1" value="#{uMB.format(entregaPedidoMB.preciototaltransporte)}"/></p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">COST OF PRECOOLING (C):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf6" value="#{uMB.format(entregaPedidoMB.preciototalpreculinclie)}"/></p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">TOTAL (C):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf2" value="#{uMB.format(entregaPedidoMB.preciototalcompleto)}"/></p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">COST OF TRANSPORT (AST):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf3" value="#{uMB.format(entregaPedidoMB.preciototaltransporteast)}"/></p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">COST OF PRECOOLING (AST):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf7" value="#{uMB.format(entregaPedidoMB.preciototalpreculinast)}"/></p:column>
    		</p:row>
    		<p:row>
    			<p:column style="text-align:left">TOTAL (AST):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf4" value="#{uMB.format(entregaPedidoMB.preciototalcompletoast)}"/></p:column>
    		</p:row>
    		
    		<p:row>
    			<p:column style="text-align:left">PROFIT (AST):</p:column>
    			<p:column style="text-align:right"><h:outputLabel id="tf5" value="#{uMB.format(entregaPedidoMB.preciototalcompleto - entregaPedidoMB.preciototalcompletoast)}"/></p:column>
    		</p:row>
</p:panelGrid>
    
    
    
    		
    <p:panelGrid style="width:100%">
    		<f:facet name="header">
    		<p:row>
    				<p:column colspan="2">
    				    <h:outputLabel value="#{msg['label.infobancaria']}:"/>
    				</p:column>
    			    </p:row>
    		        <p:row>
    				<p:column colspan="2">
    				</p:column>
    			    </p:row>
        			<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.ib']}:"/>
    				</p:column>
    				<p:column>
    				  <h:outputLabel value="#{entregaPedidoMB.ib}"/>
    				</p:column>  
    				
    		       </p:row>
    		</f:facet>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.address']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="ibaddress" value="#{entregaPedidoMB.ibaddress}"/>
    				</p:column>  
    		</p:row>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.swift']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="ibswift" value="#{entregaPedidoMB.ibswift}"/>
    				</p:column>  
    		</p:row>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.account']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="ibaccount" value="#{entregaPedidoMB.ibaccount}"/>
    				</p:column>  
    		</p:row>
    		
    		
    		</p:panelGrid>
    		
    		<p:panelGrid style="width:100%">
    		<f:facet name="header">
        			<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.bb']}:"/>
    				</p:column>
    				<p:column>
    				  <h:outputLabel value="#{entregaPedidoMB.bb}"/>
    				</p:column>  
    				
    		       </p:row>
    		</f:facet>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.swift']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="bbswift" value="#{entregaPedidoMB.bbswift}"/>
    				</p:column>  
    		</p:row>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.address']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="bbaddress" value="#{entregaPedidoMB.bbaddress}"/>
    				</p:column>  
    		</p:row>
    		</p:panelGrid>	
    		
    		    		<p:panelGrid style="width:100%">
    		<f:facet name="header">
        			<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.fb']}:"/>
    				</p:column>
    				<p:column>
    				  <h:outputLabel value="#{entregaPedidoMB.fb}"/>
    				</p:column>  
    				
    		       </p:row>
    		</f:facet>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.savingsaccount']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="fbaccouunt" value="#{entregaPedidoMB.fbaccount}"/>
    				</p:column>  
    		</p:row>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.address']}"/>
    				</p:column>  
    				<p:column>	
    					<h:outputLabel id="fbaddress" value="#{entregaPedidoMB.fbaddress}"/>
    				</p:column>  
    		</p:row>
    		</p:panelGrid>	
    		
    		<p:panelGrid style="width:100%">
    		<f:facet name="header">
        			<p:row>
    				<p:column colspan="2">
    				  <h:outputLabel value="NOTA FINAL DE FACTURACI&#211;N"/>
    				</p:column>
    				    				
    		       </p:row>
    		</f:facet>
    		<p:row>
    				<p:column>
    				  <h:outputLabel value="#{msg['label.notafinal']}"/>
    				</p:column>  
    				<p:column>	
    					<p:inputTextarea rows="15" cols="50" id="notafinal" value="#{entregaPedidoMB.notafinal}" readonly="true"/>
    				</p:column>  
    		</p:row>
    		
    		</p:panelGrid>	
    </h:panelGrid>	
     <div align="center">
            <table><tr>
             <td>
                 <p:commandButton id="imprimir" icon="ui-icon-print"  value = "PDF" actionListener="#{entregaPedidoMB.imprimir('P')}" onclick="form.target='_blank'" ajax="false"/>
            </td>
             <td>
                 <p:commandButton id="imprimir2" icon="ui-icon-print"  value = "Resumen PDF" actionListener="#{entregaPedidoMB.resumen('P')}" onclick="form.target='_blank'" ajax="false"/>
            </td>
             <td>
                 <p:commandButton id="imprimir3" icon="ui-icon-print"  value = "EXCEL" actionListener = "#{entregaPedidoMB.imprimir('E')}" onclick="form.target='_blank'"  ajax="false"/>
            </td>
             <td>
                 <p:commandButton id="imprimir4" icon="ui-icon-print"  value = "Resumen EXCEL" actionListener="#{entregaPedidoMB.resumen('E')}" onclick="form.target='_blank'" ajax="false"/>
            </td>
            </tr></table>
    		
     </div>		
    
   </p:panel>
    		
	
	</p:tab>
    </p:wizard>
    
    
        <p:dialog header="#{msg['label.producto']}" widgetVar="dialogo" modal="false" showEffect="blind" hideEffect="explode" resizable="false">
        <p:outputPanel id="detalle" style="width:900px;height:400px;text-align:left;">
            <p:dataTable id="eventsDT" var="pro" value="#{entregaPedidoMB.productos2}"  selectionMode="single" selection="#{entregaPedidoMB.selectedProducto}" rowKey="#{pro.codigo}" filteredValue="#{entregaPedidoMB.productos2filtrado}">
       <p:ajax event="rowSelect" listener="#{entregaPedidoMB.onRowSelect}" update="formcrear:datosgenerales"/>
        <p:ajax event="rowUnselect" listener="#{entregaPedidoMB.onRowUnselect}"/>
         
        <p:column headerText="Codigo" >
            <h:outputText value="#{pro.codigo}" />
        </p:column>
        <p:column headerText="Tipo Flor" >
            <h:outputText value="#{pro.nombrePadre}"/>
        </p:column>
        <p:column headerText="Variedad"  filterBy="#{pro.nombreProducto}" filterMatchMode="startsWith" >
            <h:outputText value="#{pro.nombreProducto}" />
        </p:column>
        <p:column headerText="Grado" >
            <h:outputText value="#{pro.nombregrado}"/>
        </p:column>
    </p:dataTable>
        </p:outputPanel>
    </p:dialog>
    </h:form>
						
						<!-- fin del form interno-->
            </div>
        </div>
        <div id="bottom">
            <ui:insert name="bottom">
              <ui:include src="../main/templates/footer.xhtml" />
            </ui:insert>
        </div>
 </h:body> 
  <br/>     
</html>


